(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{298:function(t,e,r){"use strict";r.r(e);r(26);var n={props:{selectedvariant:{type:Object,required:!0},selectedqty:{type:Number,required:!0},productdetail:{type:Object,required:!0},selectqty:{type:Function,required:!0},selectvariant:{type:Function,required:!0},addtocart:{type:Function,required:!0}},computed:{back:function(){var t=this.$store.state.site;return"/site/".concat(t.store,"?u=").concat(t.uuid,"&src=").concat(t.source,"&c=").concat(t.category)}}},o=r(67),c=r(68),l=r.n(c),d=r(135),v=r(315),f=r(339),_=r(429),m=r(185),h=r(432),y=r(293),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.productdetail?r("div",[r("v-card",{staticClass:"pa-12 pt-3 pb-0",attrs:{flat:"",tile:""}},[r("v-img",{staticClass:"ma-8",attrs:{src:t.selectedvariant.main_image}})],1),t._v(" "),r("v-card",{staticClass:"d-flex flex-row pa-1",attrs:{flat:"",tile:""}},[r("div",{staticClass:"name"},[t._v(t._s(t.productdetail.name))]),t._v(" "),r("v-spacer"),t._v(" "),t.selectedvariant.normal_price?r("div",{staticClass:"price"},[t._v("\n        Rp. "+t._s(t.selectedvariant.normal_price.toLocaleString().replace(/,/g,"."))+", -\n      ")]):t._e()],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card",{staticClass:"d-flex flex-row pa-1 pt-4",attrs:{flat:"",tile:""}},[r("div",{staticClass:"variant pr-2"},[r("div",{staticClass:"label mb-1"},[t._v("Variant")]),t._v(" "),r("v-select",{attrs:{items:t.productdetail.detail.map((function(t){return t.variant})),label:t.selectedvariant.variant,"min-width":"50%","max-width":"50%",solo:"",dense:""},on:{change:t.selectvariant}})],1),t._v(" "),r("div",{staticClass:"qty pl-2"},[r("div",{staticClass:"label mb-1"},[t._v("Qty.")]),t._v(" "),r("v-select",{attrs:{items:Array.from(Array(t.selectedvariant.stock).keys()).slice(1,11),label:String(Array.from(Array(t.selectedvariant.stock).keys()).slice(1)[0]),"min-width":"50%","max-width":"50%",solo:"",dense:""},on:{change:t.selectqty}})],1)]),t._v(" "),r("v-divider"),t._v(" "),r("center",{staticClass:"pb-3 pt-3"},[r("div",{staticClass:"size"},[t._v("Ukuran")]),t._v(" "),r("div",{staticClass:"size"},[t._v("\n        "+t._s(t.selectedvariant.size)+"\n      ")])]),t._v(" "),r("v-divider"),t._v(" "),r("div",{staticClass:"description pa-1 pt-3"},[r("div",{staticClass:"label"},[t._v("Deskripsi")]),t._v(" "),r("div",{staticClass:"detail pt-2"},[t._v("\n        "+t._s(t.productdetail.description)+"\n      ")]),t._v(" "),r("v-card",{attrs:{height:"50",flat:"",tile:""}})],1),t._v(" "),r("v-footer",{staticClass:"action",attrs:{fixed:"",padless:"",color:"white"}},[r("div",{staticClass:"content d-flex flex-row pa-1"},[r("v-btn",{staticClass:"continue-shop",attrs:{depressed:"",to:t.back}},[t._v("\n          Lanjut Belanja\n        ")]),t._v(" "),r("v-card",{attrs:{flat:"","min-width":"1%"}}),t._v(" "),r("v-btn",{staticClass:"add-to-cart",attrs:{depressed:"",color:"#FD0"},on:{click:function(e){return t.addtocart(t.productdetail)}}},[t._v("\n          Tambah ke keranjang\n        ")])],1)])],1):t._e()])}),[],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:d.a,VCard:v.a,VDivider:f.a,VFooter:_.a,VImg:m.a,VSelect:h.a,VSpacer:y.a})},300:function(t,e,r){"use strict";r(21);var n,o,c,l=r(10),d=(r(45),r(9));e.a={get_list_products:(c=Object(d.a)(regeneratorRuntime.mark((function t(e,data){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("*** get_product method ***"),t.next=4,e.dispatch("request",{url:"/api/products",method:"post",data:data});case 4:if(!(r=t.sent).data.status){t.next=9;break}return e.dispatch("setState",{payload:{key:"products",data:r.data.results}}),console.log(r.data," request.data"),t.abrupt("return",!0);case 9:return t.abrupt("return",r.data);case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))),function(t,e){return c.apply(this,arguments)}),cart_detail:(o=Object(d.a)(regeneratorRuntime.mark((function t(e,data){var r,n,o,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.dispatch("request",{url:"/cache/cart",method:"post",data:data});case 3:return r=t.sent,(n=r.data)&&n.status&&n.results&&("single-order"===n.results.type&&(n.results.items.length&&(o=n.results.items.map((function(t){console.log(t.items," el items"),console.log(e.state," self.state.list_product");var r=e.state.products.filter((function(e){return e.id===t.items[0].id}));if(console.log(r," search_product"),r.length)return r[0].select_date=!0,r[0].qty=t.items[0].qty,r[0]})),c=o.filter((function(t){return"object"==Object(l.a)(t)})),console.log(c," cleaned_cart"),e.dispatch("setState",{payload:{key:"cart",data:c}})),e.dispatch("setState",{payload:{key:"notes",data:n.results.notes}})),"rp-order"===n.results.type&&(console.log(n.results," cart.results"),n.results.items.length&&(d=n.results.items.map((function(t){var r=t.items.map((function(r){var n=e.state.products.filter((function(e){if(console.log(e," prod get cart"),console.log(t," variant get cart"),e.id===r.id)return e}));return console.log(n,r,t),console.log("search_product, item, el"),{SKU:n[0].SKU,detail_id:n[0].detail[0].detail_id,discount_price:n[0].detail[0].discount_price,id:n[0].id,main_image:n[0].detail[0].main_image,name:n[0].name,normal_price:n[0].detail[0].normal_price,product_id:n[0].id,qty:r.qty,select_date:!0,variant:n[0].detail[0].variant}})),n=e.state.products.map((function(t){var e=r.filter((function(e){return e.id==t.id}));return e.length?e[0]:{SKU:t.SKU,detail_id:t.detail[0].detail_id,discount_price:t.detail[0].discount_price,id:t.id,main_image:t.detail[0].main_image,name:t.name,normal_price:t.detail[0].normal_price,product_id:t.id,qty:0,select_date:!1,variant:t.detail[0].variant}}));return{date:t.delivery_date,delivery_time:t.delivery_time,items:n}})),console.log(d," list_dates"),e.dispatch("setState",{payload:{key:"dates",data:d}}),e.dispatch("setState",{payload:{key:"rp_order",data:!0}})),e.dispatch("setState",{payload:{key:"notes",data:n.results.notes}}))),t.abrupt("return",r.data);case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t,e){return o.apply(this,arguments)}),manage_cart:(n=Object(d.a)(regeneratorRuntime.mark((function t(e,data){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("manage_cart",JSON.stringify(data,null,2)),t.next=4,e.dispatch("request",{url:"/cache/manage/cart",method:"post",data:data});case 4:r=t.sent,console.log(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(t,e){return n.apply(this,arguments)})}},305:function(t,e,r){t.exports=r.p+"img/empty.1398b6c.png"},319:function(t,e,r){"use strict";r.r(e);var n={props:{listproduct:{type:Array,required:!0},productdetail:{type:Function,required:!0},addtocart:{type:Function,required:!0},loadingproduct:{type:Boolean,required:!0}},computed:{site:function(){return this.$store.state.site}}},o=r(67),c=r(68),l=r.n(c),d=r(135),v=r(315),f=r(361),_=r(78),m=r(185),h=r(365),y=r(293),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.listproduct&&t.listproduct.length?n("v-row",{attrs:{"no-gutters":""}},t._l(t.listproduct,(function(e,r){return n("v-col",{key:r,attrs:{cols:"6"}},[e.detail.length?n("v-card",{staticClass:"ma-1 mt-5 mb-0",attrs:{outlined:""}},[e.detail.length?n("div",[n("v-img",{staticClass:"image",attrs:{src:e.detail[0].main_image}},[e.detail[0].discount_price?n("div",{staticClass:"promo-badge"},[t._v("\n              PROMO\n            ")]):t._e()])],1):t._e(),t._v(" "),n("div",{staticClass:"pa-2"},[n("div",{staticClass:"name pt-2"},[t._v(t._s(e.name))]),t._v(" "),e.detail[0].discount_price?n("div",{staticClass:"discount-price"},[n("div",[t._v("\n              Rp. "+t._s(e.detail[0].discount_price.toLocaleString().replace(/,/g,"."))+", -\n            ")]),t._v(" "),n("div",{staticClass:"lined"},[t._v("\n              Rp. "+t._s(e.detail[0].normal_price.toLocaleString().replace(/,/g,"."))+", -\n            ")])]):n("div",{staticClass:"normal-price"},[t._v("\n            Rp. "+t._s(e.detail[0].normal_price.toLocaleString().replace(/,/g,"."))+", -\n          ")]),t._v(" "),1===e.detail.length?n("div",{staticClass:"d-flex flex-row pt-3"},[n("v-btn",{staticClass:"show-detail",attrs:{depressed:"",dense:"",text:"",small:""},on:{click:function(r){return t.productdetail(e)}}},[n("v-icon",{staticClass:"product-mdi-icon"},[t._v("mdi-eye")]),t._v("  Lihat\n            ")],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"add-to-cart",staticStyle:{color:"black",border:"1px solid #cccccc !important"},attrs:{color:"#fffbbb",depressed:"",dense:"",small:""},on:{click:function(r){return t.addtocart([e])}}},[n("v-icon",{staticClass:"product-mdi-icon"},[t._v("mdi-cart-plus")]),t._v("  Tambah\n            ")],1)],1):e.detail.length>1?n("div",{staticClass:"d-flex flex-row pt-3"},[n("v-btn",{staticClass:"select-variant",attrs:{color:"#FD0",depressed:"",dense:"",small:"",to:"/site/"+t.site.store+"/"+e.id+"?u="+t.site.uuid+"&src="+t.site.source+"&c="+t.site.category}},[n("v-icon",{staticStyle:{}},[t._v("mdi-checkbox-multiple-marked-outline")]),t._v("\n               Pilih Variant\n            ")],1)],1):t._e()])]):t._e()],1)})),1):!t.loadingproduct&&t.listproduct.length?n("div",[n("center",{staticClass:"pt-12"},[n("v-img",{staticClass:"empty-image",attrs:{src:r(305)}}),t._v(" "),n("div",{staticClass:"empty-info pa-3 pr-4 pl-4 mt-4"},[t._v("\n        This store have no product yet.\n      ")])],1)],1):t._e()],1)}),[],!1,null,null,null),w=component.exports;l()(component,{VBtn:d.a,VCard:v.a,VCol:f.a,VIcon:_.a,VImg:m.a,VRow:h.a,VSpacer:y.a});var C={props:{listproduct:{type:Array,required:!0},productdetail:{type:Function,required:!0},addtocart:{type:Function,required:!0},loadingproduct:{type:Boolean,required:!0}}},x=Object(o.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.listproduct&&t.listproduct.length?n("v-row",{attrs:{"no-gutters":""}},t._l(t.listproduct,(function(e,r){return n("v-col",{key:r,attrs:{cols:"6"}},[n("v-card",{staticClass:"ma-1 mt-5 mb-0",attrs:{outlined:""}},[e.detail.length?n("div",[n("v-img",{staticClass:"image",attrs:{src:e.detail[0].main_image}},[e.detail[0].discount_price?n("div",{staticClass:"promo-badge"},[t._v("\n              PROMO\n            ")]):t._e()])],1):t._e(),t._v(" "),n("div",{staticClass:"pa-2"},[n("div",{staticClass:"name pt-2"},[t._v(t._s(e.name))]),t._v(" "),e.detail[0].discount_price?n("div",{staticClass:"discount-price"},[n("div",[t._v("\n              Rp. "+t._s(e.detail[0].discount_price.toLocaleString().replace(/,/g,"."))+", -\n            ")]),t._v(" "),n("div",{staticClass:"lined"},[t._v("\n              Rp. "+t._s(e.detail[0].normal_price.toLocaleString().replace(/,/g,"."))+", -\n            ")])]):n("div",{staticClass:"normal-price"},[t._v("\n            Rp. "+t._s(e.detail[0].normal_price.toLocaleString().replace(/,/g,"."))+", -\n          ")]),t._v(" "),1===e.detail.length?n("div",{staticClass:"d-flex flex-row pt-3"},[n("v-btn",{staticClass:"show-detail",attrs:{depressed:"",dense:"",text:"",small:""},on:{click:function(r){return t.productdetail(e)}}},[n("v-icon",{staticClass:"product-mdi-icon"},[t._v("mdi-eye")]),t._v("  Lihat\n            ")],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"add-to-cart",attrs:{color:"#FD0",depressed:"",dense:"",small:""},on:{click:function(r){return t.addtocart([e])}}},[n("v-icon",{staticClass:"product-mdi-icon"},[t._v("mdi-cart-plus")]),t._v("  Tambah\n            ")],1)],1):e.detail.length>1?n("div",{staticClass:"d-flex flex-row pt-3"},[n("v-btn",{staticClass:"select-variant",attrs:{color:"#FD0",depressed:"",dense:"",small:"",to:"/product/"+e.id}},[n("v-icon",{staticStyle:{}},[t._v("mdi-checkbox-multiple-marked-outline")]),t._v("\n               Pilih Variant\n            ")],1)],1):t._e()])])],1)})),1):!t.loadingproduct&&t.listproduct.length?n("div",[n("center",{staticClass:"pt-12"},[n("v-img",{staticClass:"empty-image",attrs:{src:r(305)}}),t._v(" "),n("div",{staticClass:"empty-info pa-3 pr-4 pl-4 mt-4"},[t._v("\n        This store have no product yet.\n      ")])],1)],1):t._e()],1)}),[],!1,null,null,null),S=x.exports;l()(x,{VBtn:d.a,VCard:v.a,VCol:f.a,VIcon:_.a,VImg:m.a,VRow:h.a,VSpacer:y.a});var O={components:{Mobile:w,Desktop:S},props:{listproduct:{type:Array,required:!0},productdetail:{type:Function,required:!0},addtocart:{type:Function,required:!0},loadingproduct:{type:Boolean,required:!0}},computed:{screen:function(){return this.$store.state.screen}}},j=Object(o.a)(O,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Mobile",{attrs:{id:"mobile",listproduct:this.listproduct,productdetail:this.productdetail,addtocart:this.addtocart,loadingproduct:this.loadingproduct}})],1)}),[],!1,null,null,null);e.default=j.exports;installComponents(j,{Mobile:r(298).default})},354:function(t,e,r){"use strict";r(60),r(7),r(4),r(14),r(186),r(301);var n=r(0);var o,c=r(123);e.a=(o="container",n.a.extend({name:"v-".concat(o),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,e){var r=e.props,data=e.data,n=e.children;data.staticClass="".concat(o," ").concat(data.staticClass||"").trim();var c=data.attrs;if(c){data.attrs={};var l=Object.keys(c).filter((function(t){if("slot"===t)return!1;var e=c[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}));l.length&&(data.staticClass+=" ".concat(l.join(" ")))}return r.id&&(data.domProps=data.domProps||{},data.domProps.id=r.id),t(r.tag,data,n)}})).extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var r,n=e.props,data=e.data,o=e.children,l=data.attrs;return l&&(data.attrs={},r=Object.keys(l).filter((function(t){if("slot"===t)return!1;var e=l[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}))),n.id&&(data.domProps=data.domProps||{},data.domProps.id=n.id),t(n.tag,Object(c.a)(data,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(r||[])}),o)}})},361:function(t,e,r){"use strict";r(19),r(8),r(60),r(43),r(44);var n=r(3),o=(r(39),r(306),r(50),r(7),r(4),r(14),r(26),r(301),r(0)),c=r(123),l=r(1);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=["sm","md","lg","xl"],_=f.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),m=f.reduce((function(t,e){return t["offset"+Object(l.y)(e)]={type:[String,Number],default:null},t}),{}),h=f.reduce((function(t,e){return t["order"+Object(l.y)(e)]={type:[String,Number],default:null},t}),{}),y={col:Object.keys(_),offset:Object.keys(m),order:Object.keys(h)};function w(t,e,r){var n=t;if(null!=r&&!1!==r){if(e){var o=e.replace(t,"");n+="-".concat(o)}return"col"!==t||""!==r&&!0!==r?(n+="-".concat(r)).toLowerCase():n.toLowerCase()}}var C=new Map;e.a=o.a.extend({name:"v-col",functional:!0,props:v(v(v(v({cols:{type:[Boolean,String,Number],default:!1}},_),{},{offset:{type:[String,Number],default:null}},m),{},{order:{type:[String,Number],default:null}},h),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var r=e.props,data=e.data,o=e.children,l=(e.parent,"");for(var d in r)l+=String(r[d]);var v=C.get(l);return v||function(){var t,e;for(e in v=[],y)y[e].forEach((function(t){var n=r[t],o=w(e,t,n);o&&v.push(o)}));var o=v.some((function(t){return t.startsWith("col-")}));v.push((t={col:!o||!r.cols},Object(n.a)(t,"col-".concat(r.cols),r.cols),Object(n.a)(t,"offset-".concat(r.offset),r.offset),Object(n.a)(t,"order-".concat(r.order),r.order),Object(n.a)(t,"align-self-".concat(r.alignSelf),r.alignSelf),t)),C.set(l,v)}(),t(r.tag,Object(c.a)(data,{class:v}),o)}})},365:function(t,e,r){"use strict";r(19),r(8);var n=r(3),o=(r(39),r(306),r(50),r(7),r(4),r(14),r(43),r(44),r(301),r(0)),c=r(123),l=r(1);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=["sm","md","lg","xl"],_=["start","end","center"];function m(t,e){return f.reduce((function(r,n){return r[t+Object(l.y)(n)]=e(),r}),{})}var h=function(t){return[].concat(_,["baseline","stretch"]).includes(t)},y=m("align",(function(){return{type:String,default:null,validator:h}})),w=function(t){return[].concat(_,["space-between","space-around"]).includes(t)},C=m("justify",(function(){return{type:String,default:null,validator:w}})),x=function(t){return[].concat(_,["space-between","space-around","stretch"]).includes(t)},S=m("alignContent",(function(){return{type:String,default:null,validator:x}})),O={align:Object.keys(y),justify:Object.keys(C),alignContent:Object.keys(S)},j={align:"align",justify:"justify",alignContent:"align-content"};function k(t,e,r){var n=j[t];if(null!=r){if(e){var o=e.replace(t,"");n+="-".concat(o)}return(n+="-".concat(r)).toLowerCase()}}var $=new Map;e.a=o.a.extend({name:"v-row",functional:!0,props:v(v(v({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:h}},y),{},{justify:{type:String,default:null,validator:w}},C),{},{alignContent:{type:String,default:null,validator:x}},S),render:function(t,e){var r=e.props,data=e.data,o=e.children,l="";for(var d in r)l+=String(r[d]);var v=$.get(l);return v||function(){var t,e;for(e in v=[],O)O[e].forEach((function(t){var n=r[t],o=k(e,t,n);o&&v.push(o)}));v.push((t={"no-gutters":r.noGutters,"row--dense":r.dense},Object(n.a)(t,"align-".concat(r.align),r.align),Object(n.a)(t,"justify-".concat(r.justify),r.justify),Object(n.a)(t,"align-content-".concat(r.alignContent),r.alignContent),t)),$.set(l,v)}(),t(r.tag,Object(c.a)(data,{staticClass:"row",class:v}),o)}})},402:function(t,e,r){"use strict";r.r(e);var n=r(67),component=Object(n.a)({},void 0,void 0,!1,null,null,null);e.default=component.exports},435:function(t,e,r){"use strict";r.r(e);r(21),r(50),r(45);var n=r(9),o=r(124),c=r(300),l=r(319),d=r(67),v=r(68),f=r.n(v),_=r(315),m=r(361),h=r(365),y=r(293),component=Object(d.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-row",{attrs:{"no-gutters":""}},t._l(6,(function(e){return r("v-col",{key:e,attrs:{cols:"6"}},[r("v-card",{staticClass:"ma-1 mt-5 mb-0",attrs:{outlined:""}},[r("div",[r("div",{staticClass:"lz-load",staticStyle:{width:"100%",height:"180px","border-radius":"5px 5px 0 0"}},[t._v("\n             \n          ")])]),t._v(" "),r("div",{staticClass:"pa-2"},[r("div",{staticClass:"pt-2",staticStyle:{"font-size":"14px",display:"inline-block","min-width":"150px","white-space":"nowrap",overflow:"hidden !important","text-overflow":"ellipsis"}},[r("div",{staticClass:"lz-load",staticStyle:{width:"100%",height:"18px"}},[t._v("\n               \n            ")])]),t._v(" "),r("div",{staticStyle:{"font-size":"12px","font-weight":"600",width:"105px"}},[r("div",{staticClass:"lz-load",staticStyle:{width:"100%",height:"18px"}},[t._v("\n               \n            ")])]),t._v(" "),r("div",{staticClass:"d-flex flex-row pt-3"},[r("div",{staticClass:"lz-load",staticStyle:{width:"48%",height:"27px","border-radius":"4px"}},[t._v("\n               \n            ")]),t._v(" "),r("v-spacer"),t._v(" "),r("div",{staticClass:"lz-load",staticStyle:{width:"48%",height:"27px","border-radius":"4px"}},[t._v("\n               \n            ")])],1)])])],1)})),1)],1)}),[],!1,null,null,null),w=component.exports;f()(component,{VCard:_.a,VCol:m.a,VRow:h.a,VSpacer:y.a});var C={components:{Loading:w,Products:l.default},data:function(){return{page:1,snackbar:!1,loading_product:!1}},computed:{gotocart:function(){var t=this.site,e=t.store,r=t.uuid,source=t.source,n=t.category;return"/site/".concat(e,"/cart?u=").concat(r,"&mtd=view&src=").concat(source,"&c=").concat(n)},list_product:function(){return this.$store.state.products},site:function(){return this.$store.state.site},store:function(){return this.$store.state.store},rp_order:function(){return this.$store.state.rp_order},normal_order:function(){var t=0;return this.cart.forEach((function(e){var r=e.detail[0].discount_price?e.detail[0].discount_price:e.detail[0].normal_price;t+=e.qty*r})),t},subs_order:function(){var t=0;return this.dates.forEach((function(e){e.items.forEach((function(e){var r=e.discount_price?e.discount_price:e.normal_price;t+=e.qty*r}))})),t},cart:function(){if(this.rp_order){var t=[];return this.dates.forEach((function(e){var r=e.items.filter((function(t){return t.select_date}));r.length&&t.push.apply(t,Object(o.a)(r))})),t}return this.$store.state.cart},dates:function(){return this.$store.state.dates},single_order_date:function(){var t=new Date,e=t.getDate();return t.setDate(e+1),"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()>9?t.getDate():"0".concat(t.getDate()))}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,u,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route.query,n=r.c,u=r.u,e.next=3,c.a.get_list_products(t.$store,{category:n,uid:u,bot_id:t.$route.params.store});case 3:(o=e.sent).status||("Expired."==o.message&&t.$router.replace("/error/link/expired"),"Invalid URL."==o.message&&t.$router.replace("/error/link/invalid")),c.a.cart_detail(t.$store,{bot_id:t.store.bot_id,store_name:t.site.store,source:t.site.source,method:"get",uuid:t.site.uuid,category:t.site.category}),t.$store.state.fullpath.length||t.$store.dispatch("setState",{payload:{key:"fullpath",data:t.$route.fullPath}});case 7:case"end":return e.stop()}}),e)})))()},methods:{product_detail:function(t){console.log("*** product_detail method ***");var e=this.site,r=e.uuid,source=e.source,n=e.category,o=e.store;this.$router.replace("/site/".concat(o,"/").concat(t.id,"?u=").concat(r,"&src=").concat(source,"&c=").concat(n))},add_to_cart:function(t){var e=this;console.log("*** add_to_cart method ***");var r=[],n=t[0].detail[0],o={SKU:t[0].SKU,category:t[0].category,description:t[0].description,detail:[n],id:t[0].id,name:t[0].name,weight:t[0].weight,qty:1,select_date:!0},l=this.$store.state.cart,d=l.filter((function(e){return e.id===t[0].id&&e.detail[0].variant===n.variant}));if(this.$store.dispatch("setState",{payload:{key:"rp_order",data:!1}}),d.length){if(n.stock>=1+d[0].qty){var v=l.map((function(e){return e.id===t[0].id?(d[0].qty+=1,d[0]):e}));this.$store.dispatch("setState",{payload:{key:"cart",data:v}})}}else o.qty=1,l.push(o),this.$store.dispatch("setState",{payload:{key:"cart",data:l}});this.rp_order?r={type:"rp-order",items:this.dates.map((function(t){var e=t.items.filter((function(t){return t.qty&&t.select_date}));return{date:t.date,items:e.map((function(t){return{detail_id:t.detail_id,id:t.id,product_id:t.product_id,qty:t.qty,variant:t.variant}}))}}))}:r={type:"single-order",items:this.cart.map((function(t){return{delivery_date:e.single_order_date,items:[{id:t.id,qty:t.qty,price:t.detail[0].discount_price||t.detail[0].normal_price,SKU:t.SKU,name:t.name,variant:t.detail[0].variant}]}}))};c.a.manage_cart(this.$store,{store_name:this.site.store,source:this.site.source,method:"set",uuid:this.site.uuid,detail:r})},get_product:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,u,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("*** get_product method ***"),t.loading_product=!0,r=t.$route.query,n=r.c,u=r.u,e.next=5,t.$store.dispatch("request",{url:"/api/products",method:"post",data:{category:n,uid:u,bot_id:t.$route.params.store}});case 5:return o=e.sent,t.$store.dispatch("setState",{payload:{key:"products",data:o.data}}),t.loading_product=!1,e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))()},get_cart:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}}},x=r(354),S=r(292),O=Object(d.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",{staticClass:"pt-12 pl-1 pr-1 mb-12",attrs:{id:"b-list-products"}},[r("v-card",{attrs:{flat:"",tile:""}},[r("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading_product,expression:"loading_product"}]}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading_product,expression:"!loading_product"}]},[r("Products",{attrs:{listproduct:t.list_product,productdetail:t.product_detail,addtocart:t.add_to_cart,loadingproduct:t.loading_product}})],1)],1),t._v(" "),r("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("information")])],1),t._v(" "),r("v-card",{directives:[{name:"show",rawName:"v-show",value:!t.rp_order&&t.cart.length||t.rp_order&&t.dates.length,expression:"(!rp_order && cart.length) || rp_order && dates.length"}],staticClass:"basket-background-shadow",staticStyle:{position:"fixed",bottom:"-5px","z-index":"8"},attrs:{width:"100%",height:"40px",tile:""}},[t._v("\n       \n    ")]),t._v(" "),r("transition",{attrs:{name:"scroll-y-reverse-transition",mode:"out-in",appear:""}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.rp_order&&t.cart.length||t.rp_order&&t.dates.length,expression:"(!rp_order && cart.length) || rp_order && dates.length"}],staticStyle:{position:"fixed",bottom:"0",padding:"10px 8px",width:"100%","z-index":"9"}},[r("v-card",{staticClass:"d-flex flex-row pa-3 pr-3 pl-3",attrs:{color:"#fd0",to:t.gotocart}},[r("v-card",{staticStyle:{"font-size":"14px","font-weight":"600"},attrs:{color:"transparent",flat:""}},[t._v("\n          View Basket\n        ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-card",{staticStyle:{"font-size":"14px","font-weight":"600",color:"grey"},attrs:{color:"transparent",flat:""}},[t._v("\n          "+t._s(t.cart.length)+" item\n        ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-card",{staticStyle:{"font-size":"14px","font-weight":"600"},attrs:{color:"transparent",flat:""}},[t.rp_order?r("div",{staticStyle:{"font-weight":"600"}},[t._v("\n            Rp. "+t._s(t.subs_order.toLocaleString().replace(/,/g,"."))+"\n          ")]):r("div",{staticStyle:{"font-weight":"600"}},[t._v("\n            Rp. "+t._s(t.normal_order.toLocaleString().replace(/,/g,"."))+"\n          ")])])],1)],1)])],1)}),[],!1,null,null,null);e.default=O.exports;f()(O,{Loading:r(402).default,Products:r(319).default}),f()(O,{VCard:_.a,VContainer:x.a,VSnackbar:S.a,VSpacer:y.a})}}]);