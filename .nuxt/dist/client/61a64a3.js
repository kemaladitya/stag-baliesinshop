(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{443:function(e,t,r){"use strict";r.r(t);var n=r(10),c=(r(46),r(9)),o=(r(45),r(21),{data:function(){return{confirm:!1,loading:!1,name:"",phone:"",email:"",rules:{required:function(e){return!!e||"Required."},email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid e-mail."}},address:"",province:[],city:[],sub_district:[],urban:[],selected_province:null,selected_city:null,selected_sub_district:null,selected_urban:null,postal_code:null}},computed:{customer:function(){return this.$store.state.customer},submit_button:function(){return!(this.selected_province&&this.selected_city&&this.selected_sub_district&&this.selected_urban&&this.name.length&&this.phone.length&&this.email.length&&this.address.length)}},watch:{phone:function(e,t){var r=this;setTimeout((function(){"NaN"===String(+e)&&(r.phone=e.replace(/\D+/g,""))}),5)}},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("setState",{payload:{key:"uuid",data:e.$route.query.u}}),t.next=3,e.get_province();case 3:if("object"!=String(Object(n.a)(e.customer))||!e.customer.hasOwnProperty("name")){t.next=20;break}return r=e.province.filter((function(t){return t.name===e.customer.province})),e.selected_province=r[0],e.name=e.customer.name,e.phone=e.customer.phone,e.email=e.customer.email,e.address=e.customer.address,t.next=12,e.get_city(r[0].name);case 12:return e.selected_city={name:e.customer.city,provcode:r[0].code},t.next=15,e.get_sub_district(e.customer.city);case 15:return e.selected_sub_district={name:e.customer.sub_district,provcode:r[0].code},t.next=18,e.get_urban(e.customer.sub_district);case 18:e.selected_urban={name:e.customer.urban,postalcode:e.customer.postal_code},e.postal_code=e.customer.zip_code;case 20:case"end":return t.stop()}}),t)})))()},methods:{get_province:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("request",{url:"/api/administration/province",method:"get"});case 2:r=t.sent,e.province=r.data;case 4:case"end":return t.stop()}}),t)})))()},get_city:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.province.filter((function(t){return t.name===e})),r.next=3,t.$store.dispatch("request",{url:"/api/administration/city",method:"post",data:{provname:n[0].name,provcode:n[0].code}});case 3:c=r.sent,t.selected_province=n[0],t.city=c.data,t.sub_district=[],t.urban=[],t.selected_city=null,t.selected_sub_district=null,t.selected_urban=null,t.postal_code=null;case 12:case"end":return r.stop()}}),r)})))()},get_sub_district:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.city.filter((function(t){return t.name===e})),r.next=3,t.$store.dispatch("request",{url:"/api/administration/subdistrict",method:"post",data:{cityname:n[0].name,provcode:n[0].provcode}});case 3:c=r.sent,t.selected_city=n[0],t.sub_district=c.data;case 6:case"end":return r.stop()}}),r)})))()},get_urban:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.sub_district.filter((function(t){return t.name===e})),console.log(n," selected_sub_district"),r.next=4,t.$store.dispatch("request",{url:"/api/administration/urban",method:"post",data:{city:t.selected_city.name,subdistrict:n[0].name,provcode:t.selected_province.code}});case 4:c=r.sent,t.selected_sub_district=n[0],t.urban=c.data;case 7:case"end":return r.stop()}}),r)})))()},select_postalcode:function(e){var t=this.urban.filter((function(t){return t.name===e}));this.selected_urban=t[0],this.postal_code=t[0].postalcode},submit:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,e.$store.dispatch("request",{url:"/api/user/register",method:"post",data:{uuid:e.$route.query.u,bot_name:e.$route.params.store,name:e.name,phone:e.phone,email:e.email,province:e.selected_province,city:e.selected_city,sub_district:e.selected_sub_district,urban:e.selected_urban,address:e.address,source:e.$route.query.src}});case 3:if(200!==t.sent.status){t.next=7;break}return e.$router.push("/success/register"),t.abrupt("return",!0);case 7:e.$store.dispatch("setState",{payload:{key:"alert",data:{status:!0,text:"Failed update your data."}}}),setTimeout((function(){r.$store.dispatch("setState",{payload:{key:"alert",data:{status:!1,text:""}}})}),3e3);case 9:case"end":return t.stop()}}),t)})))()}}}),l=r(67),d=r(68),m=r.n(d),v=r(135),_=r(315),h=r(322),f=r(435),y=r(293),x=r(354),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-12 pt-6"},[e.customer&&e.customer.hasOwnProperty("status")?r("div",{staticClass:"mb-6"},[r("center",{staticStyle:{"font-weight":"600"}},[e._v("Yuk isi data terlebih dahulu")])],1):r("center",{staticStyle:{"font-weight":"600"}},[e._v("Edit Data")]),e._v(" "),r("div",{staticClass:"pa-5 pt-2 pb-2"},[r("div",[r("v-text-field",{attrs:{label:"Nama",placeholder:"Nama Lengkap","hide-details":"",name:"name",rules:[e.rules.required]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),r("div",{staticClass:"mt-6"},[r("v-text-field",{attrs:{label:"No. Telephone",placeholder:"No. Telephone / No. Handphone","hide-details":"",name:"phone",rules:[e.rules.required]},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),r("div",{staticClass:"mt-6"},[r("v-text-field",{attrs:{label:"Email",placeholder:"Alamat Email","hide-details":"",name:"email",rules:[e.rules.required,e.rules.email]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),r("div",{staticClass:"mt-6"},[r("v-select",{attrs:{items:e.province.map((function(e){return e.name})),label:"Provinsi",rules:[e.rules.required],value:e.selected_province?e.selected_province.name:"Provinsi"},on:{change:e.get_city}})],1),e._v(" "),r("div",{staticClass:"mt-2"},[r("v-select",{attrs:{items:e.city.map((function(e){return e.name})),label:"Kota",rules:[e.rules.required],value:e.selected_city?e.selected_city.name:"Kota"},on:{change:e.get_sub_district}})],1),e._v(" "),r("div",{staticClass:"mt-2"},[r("v-select",{attrs:{items:e.sub_district.map((function(e){return e.name})),label:"Kecamatan",rules:[e.rules.required],value:e.selected_sub_district?e.selected_sub_district.name:"Kecamatan"},on:{change:e.get_urban}})],1),e._v(" "),r("div",{staticClass:"mt-2"},[r("v-select",{attrs:{items:e.urban.map((function(e){return e.name})),label:"Kelurahan",value:e.selected_urban?e.selected_urban.name:"Kelurahan",rules:[e.rules.required]},on:{change:e.select_postalcode}})],1),e._v(" "),r("div",[r("v-text-field",{attrs:{value:e.postal_code,disabled:"",label:"Kode Pos",placeholder:"Kode Pos","hide-details":""}})],1),e._v(" "),r("div",{staticClass:"mt-6"},[r("v-text-field",{attrs:{label:"Alamat",placeholder:"Alamat Lengkap","hide-details":"",name:"address",rules:[e.rules.required]},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),r("center",{staticClass:"mt-8"},[r("v-btn",{staticStyle:{"text-transform":"capitalize"},attrs:{disabled:e.submit_button,width:"80%",color:"#fd0",depressed:"",rounded:"",large:""},on:{click:function(t){e.confirm=!0}}},[e._v("\n        Submit\n      ")])],1)],1),e._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("v-card",{staticClass:"pa-4 pl-6 pr-6"},[r("center",[r("div",{staticStyle:{"font-size":"16px"}},[e._v("Apakah data Anda")]),e._v(" "),r("div",{staticStyle:{"font-size":"16px"}},[e._v("sudah benar?")]),e._v(" "),r("v-card",{staticClass:"d-flex flex-row mt-5",attrs:{width:"100%",flat:""}},[r("v-btn",{staticStyle:{"text-transform":"capitalize"},attrs:{width:"49%",color:"#fd0",rounded:"",depressed:""},on:{click:e.submit}},[e._v("\n            Lanjut\n          ")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{staticStyle:{"text-transform":"capitalize"},attrs:{width:"49%",color:"#999",outlined:"",rounded:"",depressed:""},on:{click:function(t){e.confirm=!1}}},[e._v("\n            Edit Data\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:v.a,VCard:_.a,VDialog:h.a,VSelect:f.a,VSpacer:y.a,VTextField:x.a})}}]);