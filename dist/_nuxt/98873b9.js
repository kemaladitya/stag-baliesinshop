(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{621:function(e,t,r){"use strict";r.r(t);r(10),r(47),r(53),r(44),r(20);var l={props:{courier:Object,icons:Array,take_icons:Object,select_courier:Function},data:function(){return{is_all_express:!0,parsed_product:{product:[],total:0},is_available_today:!1}},computed:{is_available_express:function(){return this.$store.state.is_available_express},order_type:function(){return this.$store.state.order_type},store:function(){return this.$store.state.store},products:function(){return this.$store.state.products},cart:function(){return"single-order"===this.order_type?this.$store.state.cart:"subscription-order"===this.order_type?this.$store.state.subscription_cart:"package-order"===this.order_type?this.$store.state.package_cart:void 0},validate_express_delivery:function(){try{return this.parsed_product.product.filter((function(e){if(!e.express_delivery)return e}))}catch(e){return[]}}},created:function(){this.product_parser()},mounted:function(){this.check_day_availability()},methods:{express_delivery_description:function(){return this.is_available_express?"subscription-order"===this.order_type?"Express Delivery tidak tersedia untuk pembelian Mode Langganan":"package-order"===this.order_type?"Express Delivery tidak tersedia untuk pembelian Parcel/Box":this.validate_express_delivery.length?"Hanya tersedia untuk produk Sari Roti dengan label khusus “Express Delivery”":"":"Saat ini layanan “Express Delivery“ hanya tersedia di area tertentu"},check_day_availability:function(){try{var e=(new Date).getDay(),t=[];if(this.parsed_product.product.forEach((function(e){e.express_delivery_setup.days.forEach((function(e){return t.includes(e)?null:t.push(e)}))})),console.log("start check"),1==t.length&&"*"==t[0])this.is_available_today=!0;else{if(!t.includes(e))return void(this.is_available_today=!1);this.is_available_today=!0}}catch(e){return void(this.is_available_today=!1)}},express_delivery_validator:function(e){var t=!0,r=e.split("|")[2],l=this.parsed_product.product.filter((function(e){return!e.express_delivery})),o=this.parsed_product.product.filter((function(e){return e.express_delivery}));if(o.length){var n=new Date,c=(n.getHours()<10?"0"+n.getHours():n.getHours())+":"+(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes());o.forEach((function(e){var r=+c.replace(":","")>+e.express_delivery_setup.time.start.replace(":","")&&+c.replace(":","")<=+e.express_delivery_setup.time.end.replace(":","");t&&(t=r)}))}if("Express Delivery"==r){var _="single-order"===this.order_type,d=!l.length;return!(_&&d&&t&&this.is_available_today&&this.is_available_express)}return!1},product_parser:function(){var e=this,t=0,r=[];this.cart.forEach((function(l){var o=e.products.filter((function(e){return e.id===l.id&&e.SKU===l.sku}));o.length&&(r.push({id:o[0].id,sku:o[0].SKU,detail_id:o[0].variant[0],main_image:o[0].main_image,name:o[0].name,normal_price:o[0].normal_price,discount_price:o[0].discount_price,is_promo:o[0].is_promo,qty:l.qty,express_delivery:o[0].express_delivery,express_delivery_setup:o[0].express_delivery_setup}),o[0].express_delivery||(e.is_all_express=!1),t+=(o[0].discount_price||o[0].normal_price)*l.qty)})),this.parsed_product={product:r,total:t}}}},o=r(51),n=r(52),c=r.n(n),_=r(145),d=r(303),v=r(90),y=r(313),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"d-flex flex-row"},[r("div",{staticClass:"pl-2",staticStyle:{"align-self":"center","font-size":"14px","font-weight":"600"}},[e._v("\n      Pilih Pengiriman\n    ")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"red",icon:"",text:""},on:{click:function(t){e.select_courier_dialog=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),r("div",{staticStyle:{"overflow-y":"scroll !important","max-height":"450px !important"}},e._l(e.courier.lists,(function(t,l){return r("v-card",{key:l,staticClass:"pa-2 pl-0",class:l?null:"pb-0",staticStyle:{"text-align":"left"},attrs:{flat:""}},[0==e.express_delivery_validator(t)?r("v-card",{staticClass:"ml-2 pa-3 pt-2 pb-3 mb-2",staticStyle:{"font-size":"13px","font-weight":"600","border-radius":"8px"},attrs:{disabled:!!e.express_delivery_validator(t),outlined:""},on:{click:function(r){return e.select_courier(t)}}},[t.includes("custom")?r("div",[r("div",{staticClass:"pa-1 pb-0",staticStyle:{"font-weight":"600","text-transform":"capitalize"},style:e.express_delivery_validator(t)?"color: grey;":"color: "+e.take_icons[t.split("|")[2]].color},[r("v-icon",{staticClass:"mr-1",attrs:{color:e.express_delivery_validator(t)?"grey":e.take_icons[t.split("|")[2]].color}},[e._v("\n              "+e._s(e.take_icons[t.split("|")[2]].name)+" - "+e._s(e.take_icons[t.split("|")[2]].name)+"\n            ")]),e._v("\n            "+e._s(t.split("|")[1])+" - "+e._s(t.split("|")[2])+"\n            "),e.take_icons[t.split("|")[2]].description.length?r("div",{staticStyle:{"font-weight":"normal","line-height":"18px"},style:e.express_delivery_validator(t)?"color: grey":"color: black"},["Express Delivery"===t.split("|")[2]&&e.express_delivery_description().length?r("span",{staticStyle:{color:"#ff4f4f"}},[e._v("\n                "+e._s(e.express_delivery_description())+"\n              ")]):r("span",[e._v(e._s(e.take_icons[t.split("|")[2]].description))])]):e._e()],1)]):r("div",[r("div",{staticClass:"pa-1 pb-0",staticStyle:{"font-weight":"600","text-transform":"capitalize"},style:e.express_delivery_validator(t)?"color: grey;":"color: "+e.take_icons[t.split("|")[0]].color},[r("v-icon",{staticClass:"mr-1",attrs:{color:e.express_delivery_validator(t)?"grey":e.take_icons[t.split("|")[0]].color}},[e._v("\n              "+e._s(e.take_icons[t.split("|")[0]].name)+" - "+e._s(e.take_icons[t.split("|")[0]].name)+"\n            ")]),e._v("\n            "+e._s(t.split("|")[0])+" - "+e._s(t.split("|")[1])+"\n            "),e.take_icons[t.split("|")[0]].description.length?r("div",{staticClass:"mt-1",staticStyle:{"font-weight":"normal","line-height":"18px"},style:e.express_delivery_validator(t)?"color: grey":"color: black"},["Express Delivery"===t.split("|")[0]&&e.express_delivery_description().length?r("span",{staticStyle:{color:"#ff4f4f"}},[e._v("\n                "+e._s(e.express_delivery_description())+"\n              ")]):r("span",[e._v(e._s(e.take_icons[t.split("|")[0]].description))])]):e._e()],1)])]):e._e()],1)})),1)])}),[],!1,null,null,null);t.default=component.exports;c()(component,{VBtn:_.a,VCard:d.a,VIcon:v.a,VSpacer:y.a})}}]);